<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.goalapa.cacamuca.statDomain.query.domain.respository.StatMapper">

    <resultMap id="statResultMap" type="com.goalapa.cacamuca.statDomain.query.application.dto.QueryStatDTO">
        <id property="statNo" column="STAT_NO"/>
        <result property="updateDate" column="UPDATE_DATE"/>
        <result property="foodNo" column="FOOD_NO"/>
        <result property="reviewCnt" column="REVIEW_CNT"/>
        <result property="foodRate" column="FOOD_RATE"/>
        <result property="likeCnt" column="LIKE_CNT"/>
        <result property="memberAgeGroup" column="MEMBER_AGE_GROUP"/>
        <result property="memberGender" column="MEMBER_GENDER"/>
    </resultMap>

    <select id="countLikes" resultType="_int">
        SELECT
                COUNT(*)
                FROM STAT A
                WHERE A.FOOD_NO = #{ foodNo }
    </select>

</mapper>