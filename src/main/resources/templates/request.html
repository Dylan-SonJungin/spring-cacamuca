<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>식품 요청 페이지</title>
    <style>
        .request {
            position: relative;
            top: 100px;
            left: 250px;
        }
        .req {
            position: relative;
            left: 100px;
            top: 30px;
        }
    </style>
</head>
<body>
    <th:block th:insert="~{common/aside}" />
    <th:block th:insert="~{common/header}" />

<div class="req">
    <form action="request" method="post", enctype="multipart/form-data" class="request">
        <select name="requestCountry" class="w-64 gap-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required>
            <option value="none">국가를 선택해주세요.</option>
            <option value="한국">한국</option>
            <option value="일본">일본</option>
            <option value="미국">미국</option>
            <option value="영국">영국</option>
            <option value="베트남">베트남</option>
            <option value="태국">태국</option>
            <option value="프랑스">프랑스</option>
            <option value="이탈리아">이탈리아</option>
            <option value="튀르키예">튀르키예</option>
            <option value="중국">중국</option>
            <option value="몽골">몽골</option>
        </select>

        <select name="requestFoodType" class="w-64 gap-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required>
            <option value="none">종류를 선택해주세요.</option>
            <option value="과자">과자</option>
            <option value="차">차</option>
            <option value="커피">커피</option>
            <option value="음료">음료</option>
            <option value="빵">빵</option>
            <option value="젤리">젤리</option>
            <option value="초콜릿">초콜릿</option>
            <option value="사탕">사탕</option>
        </select>

        <input type="text" name="requestFood" placeholder="식품 이름을 입력해주세요" class="w-64 gap-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
        <input type="number" name="requestPrice" placeholder="식품 가격을 입력해주세요" class="w-64 gap-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">


        <div class="absolute top-20 left-0 w-3/4 mb-4 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600">
            <div class="px-4 py-2 bg-white rounded-t-lg dark:bg-gray-800">
                <textarea name="requestContent" id="request" rows="4" class="w-full px-0 text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400" placeholder="과자에 대한 설명을 적어주세요!" required></textarea>
            </div>
            <div class="flex items-center justify-between px-3 py-2 border-t dark:border-gray-600">
                <button type="submit" class="inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800">
                    식품 등록 요청하기
                </button>
                <input type="file" name="requestPic" onchange="previewImages(event)" required>
<!--                <button type="button" class="inline-flex justify-center items-center p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600">-->
<!--                    <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">-->
<!--                        <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>-->
<!--                    </svg>-->
<!--                    <span class="sr-only">Upload image</span>-->
<!--                </button>-->
            </div>
            <div class="absolute top-450 left-0 w-3/4 mb-4 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600">
                <div class="px-4 py-2 bg-white rounded-t-lg dark:bg-gray-800">
                    <div id="preview-container"></div>
                </div>
            </div>
        </div>

    </form>
</div>

<script>
    function previewImages(event) {
        var previewContainer = document.getElementById('preview-container');
        var files = event.target.files;

        previewContainer.innerHTML = '';
        for (var i = 0; i < files.length; i++) {
            var file = files[i];
            var reader = new FileReader();

            reader.onload = function (event) {
                var imageUrl = event.target.result;
                var imageElement = document.createElement('img');

                imageElement.src = imageUrl;
                imageElement.classList.add('preview-image');

                previewContainer.appendChild(imageElement);
            }

            reader.readAsDataURL(file);
        }
    }
</script>
</body>
</html>